<!doctype html><html lang=en-GB><head><title id=title>SolastJS Documentation - Initialisation and Entry Point</title><link rel=stylesheet type=text/css href=/solastjs/docs/css/style.min.149626e486cce91f1309489ae2533e88ad9383f60bcf7ed6ca8ade3d1d0b91bb.css integrity="sha256-FJYm5IbM6R8TCUia4lM+iK2Tg/YLz37WyorePR0Lkbs="><link rel=stylesheet type=text/css href=/solastjs/docs/css/syntax.min.94a350d905bc4f5f85e01598097d676d83c8c65e40b9f61e9aaecffca21c2e38.css integrity="sha256-lKNQ2QW8T1+F4BWYCX1nbYPIxl5AufYemq7P/KIcLjg="><script src=/solastjs/docs/js/highlight.min.593a5b06d4d29e835051bbb9e252cbe552ececb8e37362a491e0b58c23795d88.js integrity="sha256-WTpbBtTSnoNQUbu54lLL5VLs7Ljjc2KkkeC1jCN5XYg="></script><script>hljs.highlightAll()</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.152.2"></head><body><div id=site-wrapper><div id=header><nav id=nav><div id=home><a href=/solastjs/>Documentation Home</a></div><div id=left><a href=/solastjs/docs/gettingstarted/structure/>...Prev</a></div><div id=center><a href=/solastjs/docs/gettingstarted/>Index</a></div><div id=right><a href=/solastjs/docs/gettingstarted/examplescene/>Next...</a></div></nav></div><div id=content><h1 id=initialisation-and-entry-point>Initialisation and Entry Point</h1><p>To help us out and make things easier to work with we&rsquo;ll create an
initialisation .js file (init.js) which will collect all of the engine
files in one place and wrap them in a namespace (in this case &lsquo;sol&rsquo;).
We also declare and initialise our main App instance (&lsquo;APP&rsquo;) in this
file and then export everything together.</p><pre><code class=language-javascript>import AC, {acSetContext} from &#39;./engine/ac.js&#39;;
import GL, {glSetContext} from &#39;./engine/gl.js&#39;
import GLStates from &#39;./engine/glstates.js&#39;
import * as sol from &#39;./engine/exports.js&#39;;

var APP = new sol.App();

export {AC, acSetContext, glSetContext, GL, GLStates, eng, APP as default};</code></pre><p>By doing it this way we can import and access our App instance
in any of our project files (also true of the WebGL Context &lsquo;GL&rsquo;). Next
we need to create the entry point for our app which will be run when the
page loads.</p><pre><code class=language-javascript>import APP from &#39;./init.js&#39;;
import InitialScene from &#39;./initialscene.js&#39;;

function main() {
  try {
    // initialise the app instance, passing in
    // the canvas id (from index.html), and then
    // request a change to our initial scene;
    // perform the scene change immediately and
    // finally enter the main loop of our app

    APP.init(&#34;canvas&#34;);
    APP.sceneManager.requestChange(InitialScene, &#34;init&#34;);
    APP.sceneManager.change();
    APP.run();
  } catch (e) {
    console.error(e.message);
  }
}

window.onload = function() {
  // run our entry function immediately when
  // the page loads

  main();
}</code></pre><p>We import our APP instance that we defined during initialisation, as
well as our InitialScene class which we&rsquo;ll look at in detail later.
Next, we declare a function (called &lsquo;main()&rsquo; here, but the name is
irrelevant) and initialise our app. This is where we pass in the id of
our canvas element (&lsquo;canvas&rsquo;). Next we request and immediately change
to an instance of our InitialScene (more on Scenes later). Finally,
we enter the main loop of our App which runs until it is terminated
(usually by the page closing).</p><p>The entry function can be called whenever and however you like but
in this case we call it as soon as the page loads.</p></div><div id=footer>Site and content created by Iain Crawford (<a href=https://github.com/dakodun target=_blank>dakodun</a>)<br>w/ <a href=https://gohugo.io/ target=_blank rel=external>Hugo</a>,
<a href=https://github.com/features/actions target=_blank rel=external>GitHub Actions</a>, &
<a href=https://highlightjs.org/ target=_blank rel=external>highlight.js</a>.<br>View SolastJS on <a href=https://github.com/dakodun/solastjs target=_blank rel=external>GitHub</a> or on
<a href=https://chikin.net/site/solastjs/ target=_blank>chikin.net</a></div></div></body></html>