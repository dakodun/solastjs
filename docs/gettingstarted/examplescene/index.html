<!doctype html><html lang=en-GB><head><title id=title>SolastJS Documentation - An Example Scene</title><link rel=stylesheet type=text/css href=/docs/css/style.min.ad59af5e8eb4a718a8cca7c3a0785e9c4e81115e61ef0ef14754142c3d2e57d9.css integrity="sha256-rVmvXo60pxiozKfDoHhenE6BEV5h7w7xR1QULD0uV9k="><link rel=stylesheet type=text/css href=/docs/css/syntax.min.94a350d905bc4f5f85e01598097d676d83c8c65e40b9f61e9aaecffca21c2e38.css integrity="sha256-lKNQ2QW8T1+F4BWYCX1nbYPIxl5AufYemq7P/KIcLjg="><script src=/docs/js/highlight.min.593a5b06d4d29e835051bbb9e252cbe552ececb8e37362a491e0b58c23795d88.js integrity="sha256-WTpbBtTSnoNQUbu54lLL5VLs7Ljjc2KkkeC1jCN5XYg="></script><script>hljs.highlightAll()</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.152.2"></head><body><div id=site-wrapper><div id=header><nav id=nav><div id=home><a href=/>Documentation Home</a></div><div id=left><a href=/docs/gettingstarted/initialisation/>...Prev</a></div><div id=center><a href=/docs/gettingstarted/>Index</a></div><div id=right>Next...</div></nav></div><div id=content><h1 id=an-example-scene>An Example Scene</h1><p>Our App requires a Scene to properly function. There is nothing
special about this initial Scene but you could use it to load
resources and initialise objects for use in later scenes.
We&rsquo;ll look at what a Scene is and how to use them in more detail later.</p><pre><code class=language-javascript>import APP, {eng, GLStates, GL} from &#39;./init.js&#39;;

class InitialScene extends sol.Scene {
  // our scene inherits from the base scene class
  // and our constructor takes a name (string)
  // and forwards it to the base class constructor

  constructor(name) {
    super(name);
  }

  delete() {

  }

  render(pass) {
    GL.viewport(0, 0, APP.canvas.width, APP.canvas.height);
    
    switch (pass) {
      case 0 : {
        // for the first pass:
        // clear the screen to black and the depth buffer
        // reset the context
        // reset the matrices

        GL.clearColor(0.0, 0.0, 0.0, 1.0);
        GL.clearDepth(1.0);
        GL.enable(GL.DEPTH_TEST);
        GL.depthFunc(GL.LEQUAL);
        GL.enable(GL.BLEND);
        GL.blendFunc(GL.SRC_ALPHA, GL.ONE_MINUS_SRC_ALPHA);

        GL.clear(GL.COLOR_BUFFER_BIT | GL.DEPTH_BUFFER_BIT);

        let w =  GL.canvas.clientWidth;
        let h = GL.canvas.clientHeight;

        GLStates.projectionMatrix.ortho(0.0, w, 0.0, h, 1.0, 1000.0);
        GLStates.viewMatrix.identity();

        break;
      } default : {
        break;
      }
    }
  }

  input() {

  }

  process(dt) {

  }

  postProcess(dt, count) {

  }

  handleEventQueue(e) {

  }

  onEnter(loaded) {

  }

  onLeave(saved) {

  }
};

export default InitialScene;</code></pre><p>We import the engine files and our APP instance from our
initialisation file, and then create our InitialScene class which
inherits from the base Scene class (sol.Scene). This allows our
Scene to work with the SceneManager which handles loading, saving
and switching of Scenes as well as allowing them to interact with
each other.</p><p>Most of the class is empty with two exceptions: our constructor
calls the parent class&rsquo; constructor, passing in the name string.
We&rsquo;ve also defined a basic render function that merely clears the
context every frame and sets it up to be rendered to later.</p></div><div id=footer>Site and content created by Iain Crawford (<a href=https://github.com/dakodun target=_blank>dakodun</a>)<br>w/ <a href=https://gohugo.io/ target=_blank rel=external>Hugo</a>,
<a href=https://github.com/features/actions target=_blank rel=external>GitHub Actions</a>, &
<a href=https://highlightjs.org/ target=_blank rel=external>highlight.js</a>.<br>View SolastJS on <a href=https://github.com/dakodun/solastjs target=_blank rel=external>GitHub</a> or on
<a href=https://chikin.net/site/solastjs/ target=_blank>chikin.net</a></div></div></body></html>